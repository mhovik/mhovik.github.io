<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>Lecture 9 - More DOM Manipulation</title>

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="../../site/reveal/css/reveal.css">
    <link rel="stylesheet" href="../../site/reveal/css/theme/white.css" id="theme">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="../../site/reveal/lib/css/color-brewer.css">
    <link rel="stylesheet" href="../../site/reveal/css/154-override.css">

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? '../../site/reveal/css/print/pdf.css' :
      '../../site/reveal/css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
	</head>

	<body>
		<div class="reveal">
			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>CSE 154</h1>
					<h3>Module 2</h3>
        </section>

				<section>
					<h2>Module 2 Learning Objectives</h2>
					<p>JS Basics (Strings, Numbers, Arrays, Functions, etc.)</p>
          <p>Basic HTML UI Elements (buttons, text input, select dropdowns, etc.)</p>
          <p>The DOM</p>
          <ul>
            <li>Node Acesss (getElementById, querySelector, querySelectorAll)</li>
					  <li>Tree Manipulation (appendChild, removeChild, textContent, etc.)</li>
					  <li>Style Manipulation (style vs. classList)</li>
          </ul>
          <p>Events</p>
          <ul>
            <li>Common page/user events: load, click, change, mouseover, etc</li>
            <li>DOM/event connections: <code>addEventListener</code> and
              <code>removeEventListener</code></li>
            </li>
            <li>Delayed and repeated events: <code>setTimeout</code> and
              <code>setInterval</code></li>
          </ul>
					<p>A deeper dive into scoping/page event flow</p>
				</section>


        <!-- Begin Monday -->
        <section>
          <h2>Agenda</h2>
          <p>HW2 Part A due Thursday</p>
          <p>CP2 due Sunday</p>
          <p>HW2 Part B will be out soon and due next Thursday</p>
          <p>Review JS Basics: "Types", Booleans, and Functions</p>
          <p>Scoping and the Module Pattern</p>
          <p>Notion of Objects in JS: DOM and Events</p>
          <ul>
            <li>Accessing DOM elements</li>
            <li>Handling page events with with <code>addEventListener</code></li>
            <li>Changing styles with <code>classList</code></li>
            <li>Creating and appending DOM elements to the page</li>
          </ul>
        </section>
        <section>
          <h2>Review JS Basics</h2>
        </section>

        <section>
          <h2>Scoping and the Module Pattern</h2>
        </section>

        <section>
          <h2>The Notion of "Objects" in JavaScript</h2>
          <p>
            Anything you interact with on the page is an object. An object in JavaScript has:
          </p>
          <ol>
            <li>a set of properties (e.g. textContent for DOM
              objects)</li>
            <li>built-in functions (e.g. <code>addEventListener</code>). Some
            objects have different properties/functions than others.
            </li>
          </ol>
          <p>It is helpful to think of the following "types" of objects in JavaScript:</p>
          <ol>
            <li>Global DOM objects</li>
            <li>Objects inside the <code>document</code> (which is a Global DOM object)</li>
            <li>Event objects (yes, events are objects!)</li>
          </ol>
        </section>

        <section>
          <h2>The Six Global DOM Objects</h2>
          <p>Every JavaScript program can refer to the following global objects:</p>
          <table>
            <tr>
              <th>object</th>
              <th>description</th>
            </tr>
            <tr>
              <td>document</td>
              <td>current HTML page and its content</td>
            </tr>
            <tr>
              <td>history</td>
              <td>list of pages the user has visited</td>
            </tr>
            <tr>
              <td>location</td>
              <td>URL of the current HTML page</td>
            </tr>
            <tr>
              <td>navigator</td>
              <td>info about the web browser you are using</td>
            </tr>
            <tr>
              <td>screen</td>
              <td>info about the screen area occupied by the browser</td>
            </tr>
            <tr>
              <td>window</td>
              <td>the browser window</td>
            </tr>
          </table>
          <p>
          You will usually just use <code>window</code> and <code>document</code>.
          </p>
        </section>

        <section>
          <h2>What's inside a DOM object?</h2>
          <p>For starters, the HTML attributes. This HTML:</p>
          <div class="code-example">
            <pre><code class="hljs" data-trim>&lt;img src="images/puppy.png" alt="A fantastic puppy photo"/&gt;
&lt;p&gt;A paragraph!&lt;/p&gt;</code></pre><p class="code-caption">HTML</p>
          </div>

          <p>
          Has two objects (let's call them <code>puppyImg</code> and <code>p</code>) with these properties:
          </p>
          <ul>
            <li><code>puppyImg.<em>src</em></code> -- set by the browser to <code>images/puppy.png</code></li>
            <li><code>puppyImg.<em>alt</em></code> -- set by the browser to <code>"A fantastic puppy photo"</code></li>
            <li><code>p.<em>textContent</em></code> -- set by the browser to <code>"A paragraph!"</code></li>
          </ul>
          <p>Note: You will also often see <code>textContent</code> as an alternative to
          <code>textContent</code> - you may use either.</p>
        </section>

        <section>
          <h2>Creating New Node Objects</h2>
          <table class="code-table">
            <tr>
              <th>Name</th>
              <th>Description</th>
            </tr>
            <tr>
              <td>document.<a
                  href="https://developer.mozilla.org/en-US/docs/Web/API/Document/createElement">createElement</a>("tag")</td>
              <td>creates and returns a new empty DOM node representing an element of that type</td>
            </tr>
          </table>
          <pre><code class="hljs" data-trim>// create a new &lt;h2&gt; node
let newHeading = document.createElement("h2");
newHeading.textContent = "This is a new heading!";</code></pre>
          <p class="code-caption">JS</p>

          <p>Note: Merely creating an element does not add it to the page</p>
          <p>You must add the new element as a child of an existing element on the page...</p>
        </section>

        <section>
          <h2>Adding/Removing Nodes to the DOM</h2>
          <p>
            When you have a parent DOM node, you can add or remove a child DOM node using
            the following functions:
          </p>
          <table class="code-table half-width-columns">
            <tr>
              <th>Name</th>
              <th>Description</th>
            </tr>
            <tr>
              <td><a
                  href="https://developer.mozilla.org/en-US/docs/Web/API/Node/appendChild" target="_blank">
                parentNode.appendChild</a>(node)</td>
              <td>places the given node at end of this node's child list</td>
            </tr>
            <tr>
              <td><a href="https://www.w3schools.com/jsref/met_node_insertbefore.asp"
                  target="_blank">parentNode.insertBefore</a>(new, old)</td>
              <td>places the given node in this node's child list just before old child</td>
            </tr>
            <tr>
              <td><a
              href="https://developer.mozilla.org/en-US/docs/Web/API/Node/removeChild"
                  target="_blank">parentNode.removeChild</a>(node)</td>
              <td>removes the given node from this node's child list</td>
            </tr>
            <tr>
              <td><a href="https://www.w3schools.com/jsref/met_node_remove.asp"
                     target="_blank">node.remove()</a></td>
              <td>removes the node from the page</td>
            </tr>
            <tr>
              <td><a href="https://www.w3schools.com/jsref/met_node_replacechild.asp"
                  target="_blank">parentNode.replaceChild</a>(new, old)</td>
              <td>replaces given child with new nodes</td>
            </tr>
          </table>

          <pre><code class="hljs" data-trim>let li = document.createElement("li");
li.textContent = "A list item!";
id("my-list").appendChild(li);</code></pre>
          <p class="code-caption">JS</p>
        </section>

        <section>
          <h2>Events are also Objects!</h2>
          <p>
            Recall that the event handler function can be attached to objects (window, DOM
            elements, etc.)
          </p>
          <pre><code class="hijs">sourceEl.addEventListener("click", responseFunction);

function responseFunction(e) {
  // we can access the click Event object here!
}</code></pre>
          <p class="code-caption">JS</p>
          <p>
            When the event occurs, <strong>an Event object is created</strong> and passed to the
            event listener. You can optionally "catch" this argument as an optional parameter to get
            more information about the event.
          </p>
        </section>
        <section>
          <h3>Event Object Properties</h3>
          <p>Event objects contain properties about an event that occurred</p>
          <p>What types of properties do you think an Event object has?</p>
          <div class="side-by-side two-panel" style="align-items: start">
          <!--
          <p>JavaScript gives us a really useful way to get more information about an
          event that fired the <a
                     href="https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener#The_event_listener_callback">callback
                     function</a> by accepting an optional parameter to the
          attached function representing the event object.
          </p>
          <p>Conventionally this event object is given the name "e" or "evt"</p>
          -->
            <div>
          <pre><code class="hijs font-12pt">addBtn.addEventListener("click", addGroup);

function addGroup(e) {
  console.log("Add button clicked!");
  console.log(e);
}</code></pre>
          <p class="code-caption">JS</p>
            </div>
          <img src="hidden/event-properties.png" class="fragment" alt="Event Properties" />
          </div>
        </section>

				<section>
          <h2>The Keyword <code>this</code></h2>
        <!--
          <pre><code class="hljs" data-trim>this.fieldName                 // access field
this.fieldName = value;        // modify field
this.functionName(parameters); // call method
</code></pre>
          <p class="code-caption">JS</p>
          <p>All JavaScript code actually runs inside of an object</p>
          -->
          <p>By default, code runs in the global <code>window</code> object (so <code>this === window</code>)</p>
          <ul>
            <li>All global variables and functions you declare become part of <code>window</code></li>
          </ul>
          <p>The <code>this</code> keyword refers to the current object</p>
          <p>For response functions atteched in <code>addEventListener</code>,
          <code>this</code> refers to the source element of the event.</p>
        </section>

        <section>
					<h2>Using "this" with Event Handler Binding</h2>
          <img class="w-66" src="hidden/this-screenshot-output.png" alt="output of this binding" />
          <pre><code class="hljs" data-trim>id("group-size").addEventListener("change", logMsg);

function logMsg() {
  console.log("&lt;select&gt; changed!");
  console.log(this);
  console.log(this.value);
  // same as console.log(id("group-size").value);
}</code></pre>
          <p class="code-caption">JS</p>
          <p>Event handlers attached in an event listener are <strong>bound to the element</strong></p>
          <p>Inside the handler, that element becomes <code>this</code></p>
        </section>

        <section>
          <h2>Skittles!</h2>
          <p>Starter code: <a href="skittles-lec09-starter/skittles.html">skittles.html</a> (<a
                              href="skittles-lec09-starter.zip">skittles-lec09-starter.zip</a>)
          </p>
          <p>Your are encouraged to have the HTML open on your computer for reference through lecture!</p>
        </section>

        <section>
          <h2>Breaking Down a UI Spec</h2>
          <p class="font-18pt">
              Today, we will take what we've learned about JavaScript, events, and the DOM,
              to implement <a
           href="skittles-v1-solution/skittles.html">a game</a> for a user to guess the correct number of
              Skittles in a jar having a certain color.
            </p>
            <div class="side-by-side">
              <div width="80%">
              <img src="hidden/skittlesv1-demo.gif" width="100%" class="centered-figure" alt="Skittles demo" />
              </div>
            <div class="font-18pt">
            <p>Think about the following questions:</p>
            <ol>
              <li>What elements in this demo should be listening to different events?</li>
              <li>For each of those elements, what events are they listening to?</li>
              <li>For each of those events, what behavior do you see happen as a result?</li>
            </ol>
          </div>
            </div>
        </section>
          <section>
            <h2>Skittles V1 Specification</h2>
            <p>
              We will implement a "game" to fill a jar with Skittles. For now, we just want
              to:
            </p>
            <ol>
              <li>Switch views when Start/Reset buttons are clicked</li>
              <li>Get the number of colors in a new game (from selected radio buttons)</li>
              <li>Use this number to fill the jar with random number of Skittles and colors!</li>
              <li>Remove Skittles from the jar</li>
            </p>
            <p>
              <img class="centered-figure" width="40%" src="hidden/skittles-wrong-guess.png" alt="skittles page expected output" />
            </p>
          </section>
          <section>
            <h2>Step 1: Hiding/Showing Views</h2>
            <p>How can we hide display an HTML element?</p>
            <div class="fragment">
            <pre><code>.hidden {
  display: none;
}</code></pre>
            <p class="code-caption">CSS</p>
            </div>
            <p class="fragment">How can we add/remove CSS classes with JS?</p>
          </section>

      <section>
        <h2>Modifying the <code>classList</code></h2>
        <p>You can manipulate the DOM element's
          <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/classList" target="_blank">classList</a>
          with the following methods:
        </p>
        <table class="code-table half-width-columns">
          <tr>
            <th>Name</th>
            <th>Description</th>
          </tr>
          <tr>
            <td>add(classname)</td>
            <td>
              Adds the specified class(es) to the list of classes on this element. Any that are
              already in the classList are ignored.
            </td>
          </tr>
          <tr>
            <td>remove(classname)</td>
            <td>
              Removes the specified class(es) to the list of classes from this element. Any that are
              already not in the classList are ignored without an error
            </td>
          </tr>
          <tr>
            <td>toggle(classname)</td>
            <td>
              Removes a class that is in the list, adds a class that is not in the list.
            </td>
          </tr>
          <tr>
            <td>contains(classname)</td>
            <td>
              Returns true if the class is in the the DOM element's classList, false if not.
            </td>
          </tr>
          <tr>
            <td>replace(oldclass, newclass)</td>
            <td>
              Replaces the old class with the new class.
            </td>
          </tr>
        </table>
      </section>

      <section>
        <h2>Examples</h2>
        <p>There were examples of this used in the Skittles code, eg, when a
          skittle was created, or when the game view was changed.
        <p>

        <pre><code class="hljs" >
function gameView() {
  id("game-view").classList.remove("hidden");
  id("menu-view").classList.add("hidden");
  id("results").textContent = "";
}
...
function addSkittle() {
  let skittle = document.createElement("div");
  skittle.classList.add("skittle");
  let randomColor = getRandomColor();
  skittle.classList.add(randomColor);
  id("jar").appendChild(skittle);
}</code></pre>
          <p class="code-caption">JS</p>
      </section>

      <section>
        <h2>Why Not .style?</h2>

        <pre><code class="hljs">
// suppose we have a skittle div we want to give our "pikachuyellow" color
// which is better? why?
skittle.style.backgroundColor = "#f3d77b";

// or
skittle.classList.add("pikachuyellow");</code></pre>
          <p class="code-caption">JS</p>
      </section>

          <section>
            <h2>Step 2: How Many Colors?</h2>
            <p>How do we determine what radio button value is selected?</p>
            <p>How do we use this value when starting a game?</p>
          </section>

          <section id="radiobuttons">
            <h2>Review: <a href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Forms/The_native_form_widgets#Radio_button" target="_blank">Radio
              buttons</a>: <code>&lt;input&gt;</code></h2>
            <p class="term-definition">sets of mutually exclusive choices (inline)</p>
            <pre><code class="hljs" data-trim>&lt;input type="radio" name="color-count" value="3" checked /&gt; 3
&lt;input type="radio" name="color-count" value="6"/&gt; 6
&lt;input type="radio" name="color-count" value="9"/&gt; 9</code></pre>
            <p class="code-caption">HTML</p>

            <div class="output">
        <label><input type="radio" name="color-count" value="3" checked> 3</label>
        <label><input type="radio" name="color-count" value="6"> 6</label>
        <label><input type="radio" name="color-count" value="9"> 9</label>
              <p class="output-caption">output</p>
            </div>
            <p>Grouped by name attribute (only one can be checked at a time)</p>
            <p>Must specify a value for each one or else it will be sent as value on</p>
          </section>
        <section>
					<h2>Useful Selectors for Form/UI Elements</h2>
          <div class="side-by-side two-panel">
            <div>
          <pre><code class="hljs" data-trim>element[attribute="value"] {
  property: value;
  ...
}</code></pre>
          <p class="code-caption">CSS (template)</p>
          </div>

            <div>
          <pre><code class="hljs">input[name='color-count'] {
  opacity: 0.5;
}
          </code></pre>
          <p class="code-caption">CSS (example)</p>
            </div>
            </div>

          <div class="output">
        <label><input style="opacity: 0.5;" type="radio" name="color-count" value="3" checked> 3</label>
        <label><input style="opacity: 0.5;" type="radio" name="color-count" value="6"> 6</label>
        <label><input style="opacity: 0.5;" type="radio" name="color-count" value="9"> 9</label>
            <p class="output-caption">output</p>
          </div>
          <p>Attribute selector: matches only elements that have a particular attribute value</p>
          <p>Useful for controls because many share the same element (input)</p>
          <p>Can also use these selectors in JS with <code>document.querySelector</code>!</p>
        </section>
        <section>
          <h2>Using Attribute Selectors to get a Selected Radio Button</h2>
          <pre><code class="hljs" data-trim>let checkedBtn = qs("input[name='color-count']:checked");
let colorCount = checkedBtn.value;
</code></pre>
          <p class="code-caption">JS (example)</p>
        </section>

        <section>
          <h2>Are we done?</h2>
          <p>The starter code has some todos for extra practice of DOM manipulation. If you'd like
          extra practice, try to work through them to get the expected behavior from the <a
             href="">video</a> at home!
          </p>
        </section>

        <section>
          <h2>Removing DOM elements... a decision</h2>
          <p>What happens if we don't remove the skittles when we start a new game?</p>
          <div class="flex-row">
            <img class="fragment" src="hidden/skittle-overload1.png" alt="adding too many skittles 1">
            <img class="fragment" src="hidden/skittle-overload2.png" alt="adding too many skittles 2">
            <img class="fragment" src="hidden/skittle-overload3.png" alt="adding too many skittles 3">
          </div>
        </section>

        <section>
          <h2>Three methods for removing elements</h2>
          <p>Get all of the DOM elements and remove them from the DOM</p>
          <pre><code class="hljs" data-trim>function clearJar() {
  let skittles = qsa(".skittle");
  for (let i = 0; i &lt; skittles.length; i++) {
    // 1. Using node.remove();
    skittles[i].remove();
    // 2. Using parentNode.removeChild(node);
    // skittles[i].parentNode.removeChild(skittles[i]);
  }
}</code></pre>
          <p class="code-caption">JS</p>
          <div class="fragment">
            <p>Or ... Method 3: Set the Jar's <code>innerHTML</code> to be empty!</p>
            <pre><code class="hljs" data-trim>function clearJar() {
  id("jar").innerHTML = "";
}</code></pre>
            <p class="code-caption">JS</p>
          </div>
        </section>

        <section>
          <h2>Note: in general <code>innerHTML</code> hacking is <span class="bad">bad</span></h2>
          <p>Why not just code this way?</p>
          <pre><code class="hljs" data-trim data-noescape>document.getElementById("add")<span class="bad">.innerHTML = </span> &quot;&lt;p&gt;A result!&lt;/p&gt;&quot;;</code></pre>
          <p class="code-caption">JS</p>
          <p>Bad code quality (maintainability) on many levels </p>
          <ul>
            <li>Not modular: HTML code embedded within JS</li>
            <li>What if you have a complicated new node (with many subchildren) to add? </li>
            <li>Error-prone: must carefully distinguish " and '</li>
            <li>Can only add at beginning or end, not in middle of child list</li>
          </ul>
          <pre><code class="hljs" data-trim data-noescape>// Substitutes all children
id("add").innerHTML =  &quot;&lt;p&gt;A result!&lt;/p&gt;&quot;;
// adds a node to the front of the list of children.
id("add").innerHTML  = &quot;&lt;p&gt;A result!&lt;/p&gt;&quot; + id("result").innerHTML;
// adds a node to the end of the list of children
id("add").innerHTML += &quot;&lt;p&gt;A result!&lt;/p&gt;&quot;;</code></pre>
          <p class="code-caption">JS</p>
        </section>

        <section>
          <h2>One more: removing elements via the parent node</h2>
          <h3>What if you were to add code to get rid of a skittle when its double clicked?</h3>
          <p>What is the source element? <span class="fragment">A skittle (div)</span></p>
          <p>What is the event we want to respond to? <span class="fragment">dblclick</span></p>
          <p>What is the response? <span class="fragment">removeSkittle</span></p>
          <p>What is the output/elements changed? <span class="fragment">the parent of the skittle (the jar)</span></p>
          <div class="fragment">
            <pre><code class="hljs" data-trim>//code added to addSkittle()
skittle.addEventListener("dblclick", removeSkittle);
...
// new function added (with JSDoc not seen here)
function removeSkittle() {
  this.parentNode.removeChild(this);
  // can also use this.remove() to remove from the document entirely (ES6)
}</code></pre>
          <p class="code-caption">JS</p>
          </div>
        </section>

        <section>
          <h2>Some Extra Resources</h2>
          <p>More on reading/changing styles</p>
        </section>

        <section>
          <section id="changing-styles">
          <h2>More on reading a changing styles</h2>
          <p>
            Recall that the <code>.style</code> property of a DOM object lets you set any
            CSS style for an element
          </p>

        <pre><code class="hljs" data-trim>button { font-size: 16pt; }</code></pre>
        <p class="code-caption">CSS</p>

        <pre><code class="hljs" data-trim>&lt;button id="clickme"&gt;Click Me&lt;/button&gt;</code></pre>
        <p class="code-caption">HTML</p>


        <pre><code class="hljs" data-trim data-noescape>window.addEventListener("load", initialize);
function init() {
  id("clickme").addEventListener("click", biggerFont);
}
function biggerFont() {
  let size = parseInt(this.style.fontSize); // size === 16pt to start
  this.style.fontSize = (size + 4) + "pt"; // notice adding the units!
}</code></pre>
        <p class="code-caption">JS</p>
        <div class="output">
          <button id="clickme" style="font-size:16pt;">Click Me</button>
          <p class="output-caption">output</p>
        </div>

      </section>

      <section>
        <h2>Problem with reading & changing styles</h2>
        <p><strong>Note!</strong> Be careful to </p>
        <ul>
          <li>remove the units from a  <code>.style</code> value before doing arithmetic on it. </li>
          <li>add the units to numerical values (like <code>pt</code>, <code>px</code>,
            <code>vw</code>, etc) when setting <code>.style</code> values.
          </li>
        </ul>
        <p>
          Also: <strong>a catch:</strong> you can only use this to read styles
          that have been set with the DOM <code>.style</code>
          earlier in the code <span class="small-font">or with inline CSS which we don't
            want you to do </span>.
        </p>
        <p>
          You cannot read style properties set in the <code>.css</code> file using <code>.style</code>!
        </p>
      </section>


      <section>
        <h2>Accessing elements' computed styles</h2>
        <p>
          <code>getComputedStyle</code> method of global
          <code>window</code> object accesses existing styles
        </p>

        <pre><code class="hljs" data-trim data-noescape>window.getComputedStyle(element).propertyName;</code></pre>
        <p class="code-caption">JS (template)</p>

        <pre><code class="hljs" data-trim data-noescape>img {
  height: 600px;
}</code></pre>
        <p class="code-caption">CSS</p>

        <pre><code class="hljs" data-trim data-noescape>> let img = document.querySelector("img");
> img.style.height;
> ""
> img.style.height = "25%";
> "25%"
> window.getComputedStyle(img).height;
> "828.234px"</code></pre>
        <p class="code-caption">JS Console Output</p>
        <p class="small-font">Thanks to Daniel H for the example</p>
      </section>
      <section>
        <h2>Common bug: incorrect usage of existing styles</h2>
        <p>
          The following example attempts to add 100px to the top of <code>main</code>, but fails.
        </p>
        <p>
          Consider the case when <code>main</code> has <code>top</code> set to "200px". Then
          this code would update <code>style.top</code> to be the invalid value of "200px100px"
        </p>
        <pre><code class="hljs" data-trim data-noescape>let main = document.getElementById("main");
<del class="bad">main.style.top = window.getComputedStyle(main).top + 100 + "px";</del>
</code></pre>
        <p class="code-caption">JS</p>

        <p>A corrected version:</p>
        <pre><code class="hljs" data-trim data-noescape>main.style.top = parseInt(window.getComputedStyle(main).top) + 100 + "px";
</code></pre>
        <p class="code-caption">JS</p>
      </section>
        </section>

        <section>
          <h2>Online Resources: Good or Bad?</h2>
          <p>
            You may find some resources online helpful to explore different ways to
            implement UI's in JavaScript - there are a ton of things! But <a
           href="https://www.w3schools.com/js/js_htmldom_events.asp">some are better than
           others</a> (<strong>make sure you understand why these examples are poor use of
            JS).</strong>
          </p>
          <p>For reference, <a href="examples/mouseover.html">here</a>'s a <em>much</em>
          better solution using what we've
          taught in this course to accomplish a mouseover <a
           href="https://www.w3schools.com/js/tryit.asp?filename=tryjs_events_mouseover">demo</a>
          given by W3Schools (view HTML source to get CSS/JS).
        </p>
        <p>
           Understanding good code quality can be extremely valuable in
          navigating an overwhelming amount of resources on the web today.
          </p>
        </section>
        <section>
          <h2>Understanding the Good vs. Bad</h2>
          <p>
            We choose resources that best align with our code quality guidelines, while
            giving just enough "extra detail" into topics we cover in lecture/section/lab.
            That said, let us know if you're looking for recommendations on a specific
            resource!
          </p>
        </section>

        <!--
        <section>
          <h2>Removing Event Listeners</h2>
          <p>
            Just as we can add events with el.addEventListener, we can also remove events using <code>removeEventListener</code>.
          </p>
          <pre><code class="hljs" data-trim>el.removeEventListener(event, responseFunction);</code></pre>
          <p class="code-caption">JS (syntax)</p>
          <p>
          Note that this only works if <code>responseFunction</code> is a named
          function that has been added to the listener on <code>el</code> for the
          specified event (this is one motivation for preferring named functions over anonymous
functions to handle events).
          </p>
        </section>
        <section>
          <h2>Removing Event Listeners: Example</h2>
          <pre><code class="hljs">function initialize() {
  let box = document.getElementById("box");
  box.addEventListener("mouseover", mouseOverResponse);
}

function mouseOverResponse() {
  console.log("You moved the mouse over a box!");
}

function turnOffBox() {
  let box = document.getElementById("box");
  box.removeEventListener("mouseover", mouseOverResponse);
}</code></pre>
          <p class="code-caption">JS</p>
        </section>
        -->

        <section>
          <h2>An Alternative Way to Handle Events</h2>
          <p>
            We introduced <code>addEventListener</code> as the way to give a
            "listener" to a DOM element, mapping an action (event) to a response
            (function).
          </p>
          <p>
            Before <code>addEventListener</code> was introduced in JS, events were most
            often handled using "onevent" attributes. You will still see these
            occassionally, but <code>addEventListener</code> is the better choice.
          </p>
        </section>
        <section>
          <h2>Example: <code>onclick</code></h2>
          <pre><code>let myBtn = document.getElementById("my-btn");
myBtn.onclick = function() {
  console.log("You clicked a button!");
};
</code></pre>
          <p class="code-caption">JS</p>
          <pre><code>let myBtn = document.getElementById("my-btn");
myBtn.addEventListener("click", function() {
  console.log("You clicked a button!");
});</code></pre>
          <p class="code-caption">JS</p>
          <p>
          This is fine to use if you are attaching an event to an element
          and don't need to ever remove the event listener. It's an older convention,
          but not necessarily a "bad" one for simple event handling.
          </p>
        </section>
        <section>
          <h2>Another Example: <code>window.onload</code></h2>
          <p>Recall that we need to set up our JS program with a listener for the window's
          <code>load</code> event in order to ensure access to DOM elements in our program
          when the document has finished loading.
          </p>
          <pre><code class="hljs">window.addEventListener("load", initialize);
</code></pre>
          <p class="code-caption">JS</p>
          <p>
            You can achieve the same result using the <code>onload</code> event attribute
            for the window. You may see this in some examples, but
            <code>addEventListener</code> is preferred.
          </p>

          <pre><code class="hijs">// initialize defined elsewhere
window.onload = initialize;</code></pre>
          <p class="code-caption">JS</p>
          <pre><code class="hijs">window.onload = function() {
  // this is fine for short setup code, but it's common to factor
  // your page setup into an "initialize" function as seen above
};</code></pre>
          <p class="code-caption">JS</p>
        </section>
		</div>

  <script src="../../site/reveal/lib/js/head.min.js"></script>

  <script src="../../site/reveal/js/reveal.js"></script>
  <script src="lec08.js"></script>

  <script>
    Reveal.initialize({
      controls: true,
      progress: true,
      history: true,
      center: true,

      transition: 'slide', // none/fade/slide/convex/concave/zoom

      // More info https://github.com/hakimel/reveal.js#dependencies
      dependencies: [{
          src: '../../site/reveal/lib/js/classList.js',
          condition: function() {
            return !document.body.classList;
          }
        },
        {
          src: '../../site/reveal/plugin/markdown/marked.js',
          condition: function() {
            return !!document.querySelector('[data-markdown]');
          }
        },
        {
          src: '../../site/reveal/plugin/markdown/markdown.js',
          condition: function() {
            return !!document.querySelector('[data-markdown]');
          }
        },
        {
          src: '../../site/reveal/plugin/highlight/highlight.pack.js',
          async: true,
          callback: function() {
            hljs.initHighlightingOnLoad();
          }
        },
        { src: '../../site/reveal/plugin/zoom-js/zoom.js', async: true },
        { src: '../../site/reveal/plugin/notes/notes.js', async: true },
        { src: '../../site/reveal/plugin/search/search.js', async: true },
        { src: '../../site/reveal/plugin/print-pdf/printpdfbtn.js', async: true }
      ]
    });
  </script>
</body>
</html>
