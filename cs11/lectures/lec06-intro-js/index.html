<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Lecture 6 - Intro to JS</title>

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="../../site/reveal/css/reveal.css">
    <link rel="stylesheet" href="../../site/reveal/css/theme/white.css" id="theme">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="../../site/reveal/lib/css/color-brewer.css">
    <link rel="stylesheet" href="../../site/reveal/css/154-override.css">

    <!-- Printing and PDF exports -->
    <script>
var link = document.createElement( 'link' );
link.rel = 'stylesheet';
link.type = 'text/css';
link.href = window.location.search.match( /print-pdf/gi ) ? '../../site/reveal/css/print/pdf.css' :
'../../site/reveal/css/print/paper.css';
document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>

    <!--[if lt IE 9]>
      <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section>
          <h1>CSE 154</h1>
          <h3>Lecture 6: Intro to JavaScript</h3>
          <img class="simpleimg" src="../img/animated-skeleton.gif" alt="skelton" width="225px"
          style="float: right; margin-top: -150px">
        </section>

        <section>
          <h2>Agenda</h2>
          <p>Wrapping up Flex</p>
          <p>Introduction to Module 2 with JavaScript Basics</p>
          <ul>
            <li>Overview</li>
            <li>
              Variables, output with <code>console.log</code>, Numbers, Strings, Arrays
            </li>
            <li>Our first JS Function: <code>openBox</code></li>
            <li>Adding JS to a webpage: Handling our first click event!</li>
          </ul>
        </section>
        <section>
          <h2>A Note About These Slides</h2>
          <p>
            Today, we will spend a bit of time with the Chrome console to explore the basics of JavaScript,
            just enough to demonstrate how to use it with the DOM to interact with a button on a simple <a href="code/mystery-box/mystery-box.html" target="_blank">web page</a>.
          </p>
          <p>
            Over next week, we'll get more practice with the different language basics (conditionals, loops, functions, etc.)
            but you can find a handy reference slide deck <a href="js-basics.html" target="_blank">here</a>.</p>
          </p>
        </section>
        <section>
          <h2>Reminders</h2>
          <p>HW1 due today, lock date tomorrow at 11PM.</p>
          <p>Make sure to...</p>
          <ul>
            <li>Check your output with the screenshots</li>
            <li>Read/implement your TA's CP1 feedback!</li>
          </ul>
          <p>CP2 will be out tonight, HW2 will be out tomorrow (two parts)</p>
        </section>

        <section>
          <h2><em>Wrapping</em> Up Module 1</h2>
        </section>

        <section>
          <h2>Summary of Flex Layout</h2>
          <p>
            Flex is a powerful way to create responsive page layouts
          </p>
          <p>Really takes practice, but remember to use wireframes and the DOM!</p>
          <p>
            <a target="_blank" href="../lec05-css-iii-more-layout/index.html#/25">Making an element a flex parent</a> will unlock various flex properties to distribute across an axis and align down that axis.
          </p>
          <p>The DOM tree is useful to focus only on the parent/children containers</p>
          <p>Common bugs:</p>
          <ol>
            <li>Setting <code>display: flex</code> on children instead of parent: Remember, the parent tells the children what to do! (with occasional cases of flex children properties like <code>flex-grow</code>)</li>
            <li>Making everything a flex container - use flex only when you want control over distribution/alignment</li>
          </ol>
        </section>

        <section>
          <h2>The Most Common Flex Properties</h2>
          <ol>
            <li>Define a parent with <code>display: flex;</code></li>
            <li>Is it a row or column? <code>flex-direction</code> (default <code>row</code>)</li>
            <li>How do you want its children to be distributed across the main axis? <code>justify-content</code></li>
            <li>How do you want the children to be aligned on the cross axis? <code>align-items</code></li>
            <li>Do you want elements to wrap if the parent gets too small? <code>flex-wrap</code></li>
          </ol>
       </section>

        <section>
          <h2><samp>flex-direction</samp></h2>
          <img src="../img/flex-direction.jpg" alt="flex-direction" style="height: 500px" />
          <p>Tip: Practice with <a href="code/flex-demo/flex-boxes.html">this page</a> and the Chrome Inspector using the next few slides.</p>
        </section>

        <section>
          <h2><samp>justify-content</samp></h2>
          <img src="../img/justify-content.jpg" alt="flex-direction" style="height: 500px" />
        </section>

        <section>
          <h2><samp>align-items</samp></h2>
          <img src="../img/align-items.jpg" alt="flex-direction" style="height: 500px" />
        </section>

        <section>
          <h2><samp>flex-wrap</samp></h2>
          <img src="../img/flex-wrap.jpg" alt="flex-direction" style="height: 500px" />
        </section>

        <section>
          <h2><samp>flex-grow</samp></h2>
          <img src="../img/flex-grow.jpg" alt="flex-direction" style="height: 500px" />
        </section>

        <section>
          <h2>Now... How About that Dance?</h2>
        </section>

        <section>
          <h2>What is a web page, really?</h2>
          <div>
            <div style="width:25%;  position:absolute; left:0%;" >
              <p><strong>Content</strong></p>
              <div>
                <img class="simpleimg" src="../img/bones.png" alt="pile of bones" style="margin:5px;"/>
                <p class="medium-small-font">Words and images</p>
              </div>
            </div>
            <div style="width:25%;  position:absolute; left:25%;" >
              <p><strong>Structure</strong></p>
              <div>
                <img class="simpleimg" src="../img/full-skeleton.png" alt="skelton" style="margin:5px; "/>
                <p class="medium-small-font">HTML</p>
              </div>
            </div>
            <div style="width:25%;  position:absolute; left:50%;" >
              <p><strong>Style</strong></p>
              <div>
                <img class="simpleimg" src="../img/dressed-skeleton.png" alt="skelton" style="margin:5px;"/>
                <p class="medium-small-font">CSS</p>
              </div>
            </div>
            <div style="width:23.2%;  position:absolute; left:75%;" >
              <p><strong>Behavior</strong></p>
              <div>
                <img class="simpleimg" src="../img/animated-skeleton.gif" alt="skelton" style="margin:5px;"/>
                <p class="medium-small-font">JavaScript</p>
              </div>
            </div>
          </div>
        </section>

        <section>
          <h2>What We've Learned So Far</h2>
          <p>How to write <strong>content</strong> for a webpage using <code>HTML5</code></p>
          <p>
            How to add <strong>styles</strong> to a webpage using <code>CSS</code> and linking a <code>CSS</code> file to an
            <code>HTML</code> file
          </p>
          <p>How to inspect the <code>HTML</code> and <code>CSS</code> of web pages in the browser</p>
          <p>(...also Git, some web accessibility, and some design/development strategies as budding web developers!)</p>
        </section>

        <section>
          <h2>CSE 154 Modules</h2>
          <ol>
            <li>
              Webpage structure and appearance with HTML5 and CSS. <i class="fa fa-check
                good fragment" aria-hidden="true"></i>
            </li>
            <li class="bolded">
              Client-side interactivity with JS DOM and events.
            </li>
            <li class="faded">
              Using web services (API's) as a client with JS.
            </li>
            <li class="faded">
              Writing JSON-based web services with a server-side language.
            </li>
            <li class="faded">
              Storing and retrieving information in a database with MySQL and server-side
              programs.
            </li>
          </ol>
        </section>

        <section>
          <h2>Webpage Behavior with JavaScript</h2>
          <p>
            Now that we know how to add <em><strong>content</strong></em> and <em><strong>styles</strong></em>
            to a web page, lets explore how to add responsive <em><strong>behavior</strong></em>
          </p>
          <p>
            Over Module 2, we'll use these building blocks to dynamically update what you see on a web page in
            response to clicks, text input, timers, etc.
          </p>
        </section>

        <section>
          <h2>Terminology: Client-Side Scripting</h2>
          <div style="margin: auto; width: 60%;" >
            <img src="../img/browser-server-db.png" alt="client-side scripting" />
          </div>
          <p>
            <strong>Client-side script</strong>: Code that runs on the user's computer and does not
            need a server to run (just a browser!).
          </p>
          <p>
            Client-side JavaScript is usually run <em>after</em> HTML and CSS have been loaded on the
            browser (e.g. from a server response).
          </p>
          <p>
            Often, this JavaScript manipulates the page
            or responds to user actions through "event handlers".
          </p>
        </section>

        <section>
          <h2>What is JavaScript?</h2>
          <div class="font-20pt">
          <p>A lightweight "scripting" programming language</p>
          <p>Created in 1995 by Brendan Eich (original prototype created in 10 days and called LiveScript)</p>
          <p>NOT related to Java other than name and some syntactic similarities...</p>
          <p>Used to define interactivity for web pages.</p>
        </section>

        <section>
          <h2>JS: Adding Behavior to HTML/CSS</h2>
          <p>We can use write JavaScript functions to...</p>
          <ul>
            <li>Insert dynamic text into HTML (ex: username)</li>
            <li>React to events (ex: page load, user's mouse click)</li>
            <li>Get information about a user's computer (ex: what browser they are using)</li>
            <li>...</li>
          </ul>
        </section>
        <section>
          <h2>Creative Applications of JS in CSE154</h2>
          <ul>
            <li>Help practice <a href="https://courses.cs.washington.edu/courses/cse154/cp/19sp/cp2/beehive/" target="_blank">CSS layout</a></li>
            <li>Generate <a href="https://courses.cs.washington.edu/courses/cse154/cp/19sp/cp2/boomerang/">website themes using CSS</a></li>
            <li>Solve <a href="https://courses.cs.washington.edu/courses/cse154/cp/18au/cp2/andes/right-triangles.html">geometry problems</a></li>
            <li>Help <a href="https://courses.cs.washington.edu/courses/cse154/cp/18sp/cp07/khichdi/chinese-text-layout.html">layout Chinese text</a></li>
            <li>Build a <a href="https://courses.cs.washington.edu/courses/cse154/cp/18sp/cp04/wiki/">Squirrel Army</a></li>
            <li>Collect <a href="https://courses.cs.washington.edu/courses/cse154/cp/18au/cp3/carme/">BOUNDLESS</a> cards</li>
            <li>...</li>
          </ul>
        </section>

        <section>
          <h2>Today: Following Along</h2>
          <p>As an interpreted programming language, JS is great to interact with
          a line at a time (similar to Python, but very different than Java). Where do you
          start?</p>
          <p>
            The easiest way to dive in is with the Chrome browser's
            Console tab <strong>in the same inspector tool you've used to inspect your
              HTML/CSS</strong>.
          </p>
          <img class="centered-figure" width="40%" src="../img/chrome-console.png" alt="Chrome Console"/>
          <p>
            Until we learn how to interact with the HTML DOM with JS, we recommend
            experimenting with the following code examples using this console to get
            comfortable with the basic syntax and behavior.
          </p>
        </section>

        <section>
          <h2>Our First JavaScript Statement: <code>console.log</code></h2>
          <p>
            Used to output values to the browser console, most often used to debug JS programs.
            You can think of this as <code>System.out.println</code> in Java or <code>print</code> in Python.
          </p>
          <pre><code class="hljs" data-trim>console.log("message");</code></pre>
          <p class="code-caption">JS (template)</p>

          <pre><code class="hljs" data-trim>console.log("The answer is: " + 42);
</code></pre>
          <p class="code-caption">JS (example)</p>

          <p>
            <img src="../img/console-log.png" alt="console.log example" />
          </p>
        </section>
        <section>
          <h2>The <code>alert</code> Function</h2>
          <pre><code class="hijs" data-trim>alert("message");</code></pre>
          <p class="code-caption">JS (template)</p>
          <pre><code class="hijs" data-trim>alert("Your browser says hi!");</code></pre>
          <p class="code-caption">JS (example)</p>

          <img src="../img/browser-alert.png" class="centered-figure two-thirds-width" alt="Demo of browser alert" />
          <p>
            A JS function that pops up a dialog box with a message - not ideal in practice, but
            sometimes a recommended debugging tool when first learning JS. <strong>Don't include
            alert statements in any of your assignments.</strong>
          </p>
        </section>

        <section>
          <h2>Comments (<em>similar to Java</em>)</h2>
          <pre><code class="hijs" data-trim>// single-line comment

/**
 * multi-line
 * comment
 */
</code></pre>
          <p class="code-caption">JS</p>
          <p>Identical to Java's comment syntax</p>
          <p>Recall: 3 comment syntaxes
            <ul>
              <li><code>HTML: &lt;!-- comment --&gt;</code></li>
              <li><code>CSS/Java/JS: /* comment */</code></li>
              <li><code>Java/JS: // comment</code></li>
            </ul>
          </p>
          <p>
          For functions and program files, we'll use JSDoc commenting with <code>@param</code> and
          <code>@returns</code>, which is covered
            in the Code Quality Guide <a href="https://courses.cs.washington.edu/courses/cse154/codequalityguide/_site/javascript/#comments-function-header">here</a>.
          </p>
        </section>

        <section>
          <h2><a target="_blank" href="https://developer.mozilla.org/en-US/docs/Learn/Getting_started_with_the_web/JavaScript_basics#Variables">Variables</a></h2>
          <pre><code class="hijs" data-trim>let name = expression;
</code></pre>
          <p class="code-caption">JS (template)</p>
          <pre><code class="hijs" data-trim>let level = 23;
let accuracyRate = 0.99;
let name = "Pikachu";
</code></pre>
          <p class="code-caption">JS (example)</p>
          <p>Variables are declared with the <code>let</code> keyword (case-sensitive).
          You may also see <code>var</code> used instead of <code>let</code> - this is an
          older convention with
          <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Grammar_and_types#Variable_scope"
             target="_blank">weaker scope</a> - <strong>DO NOT USE <code>var</code> anywhere</strong></p>
          <p><a
             href="https://courses.cs.washington.edu/courses/cse154/codequalityguide/_site/javascript/#naming-descriptive">CQG</a>: Use camelCasing for variable (and function) names</p>
          </section>
          <section>
            <h2>"Types" in JavaScript</h2>
          <pre><code class="hijs" data-trim>let level = 23; // Number
let accuracyRate = 0.99; // Number
let name = "Pikachu"; // String
let temps = [55, 60, 57.5]; // Array
</code></pre>
          <p class="code-caption">JS (example)</p>
          <p>Types are not specified, but JS <em>does</em> have types ("loosely-typed")</p>
            <ul>
            <li><code>Number</code>, <code>Boolean</code>, <code>String</code>,
                <code>Array</code>, <code>Object</code>, <code>Function</code>, <code>Null</code>,
                <code>Undefined</code></li>
            <li>Can find out a variable's type by calling <a target="_blank"
                href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/typeof">typeof</a>,
            but usually this is poor practice (why?)</li>
            <li>Note: Type conversion <a href="https://stackoverflow.com/questions/7202157/why-does-return-the-string-10">isn't always what you expect... </a></li>
          </ul>
        </section>

        <section>
          <h2>A Note about Declaring Types in JavaScript</h2>
          <p>
          If you've programmed in a <em>statically-typed</em> language like Java, you will recall
          that when declaring variables, you <strong>must</strong> specify their type which must
          always stay the same.
          </p>
          <pre><code class="hljs" data-trim>boolean isValid = "hello!"; // error</code></pre>
          <p class="code-caption">Java</p>
          <p>In a <em>dynamically-typed</em> language like JavaScript, you don't need to specify the
          type (just use <code>let</code> or <code>const</code>) and you <em>may</em> change the type the variable refers to later in execution.
          </p>
          <pre><code class="hljs" data-trim>let isValid = true; // no error
isValid = "hello!";
isValid = 1;
</code></pre>
          <p class="code-caption">JS</p>
          <p>
            This may seem to imply fewer errors in JS, but it's not uncommon to run into subtle
            (silent) bugs in your JS programs as a result!
          </p>
        </section>

        <section>
          <h2>Number Type</h2>
          <pre><code class="hijs" data-trim>let enrollment = 99;
let medianGrade = 2.8;
let credits = 5 + 4 + (2 * 3);</code></pre>
          <p class="code-caption">JS</p>
          <p>Integers and real numbers are the same type (no <code>int</code> vs. <code>double</code>). All numbers in JS are floating point numbers.</p>
          <p>Same operators: <code>+ - * / % ++ -- = += -= *= /= %=</code> and similar <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Operator_Precedence">precedence</a> to Java.</p>
          <p>Many operators auto-convert types: <code>"2" * 3</code> is <code>6</code></p>
          <p><code>NaN</code> ("Not a Number") is a return value from operations that have an undefined numerical result (e.g. dividing a String by a Number).</p>
          <p><a href="https://www.codestepbystep.com/problem/view/javascript/basics/numberTypes" target="_blank">Practice</a>!</p>
        </section>

        <section>
          <h2>String type</h2>
          <pre><code class="hijs" data-trim>let nickName = "Sparky O'Sparkz";                  // "Sparky O'Sparks"
let fName = nickName.substring(0, s.indexOf(" ")); // "Sparky"
let len = nickName.length;                         // 15
let name = 'Pikachu';                              // can use "" or ''</code></pre>
          <p class="code-caption">JS</p>
          <p>Methods:
            <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/charAt"><code>charAt</code></a>,
            <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/charCodeAt"><code>charCodeAt</code></a>,
            <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/fromCharcode"><code>fromCharCode</code></a>,
            <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/indexOf"><code>indexOf</code></a>,
            <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/lastIndexOf"><code>lastIndexOf</code></a>,
            <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace"><code>replace</code></a>,
            <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/split"><code>split</code></a>,
            <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/substring"><code>substring</code></a>,
            <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/toLowerCase"><code>toLowerCase</code></a>,
            <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/toUpperCase"><code>toUpperCase</code></a>
          </p>
        </section>

        <section>
          <h2>More about Strings</h2>
          <p><a href="https://codestepbystep.com/problem/view/javascript/basics/escapeRoom" target="_blank">Escape sequences</a> behave as in Java: <code>\' \" \&amp; \n \t \\</code></p>
          <p>To convert between Numbers and Strings:
          <pre><code class="hijs" data-trim>let count = 10;                              // 10
let stringedCount = "" + count;              // "10"
let puppyCount = count + " puppies, yay!";   // "10 puppies, yay!"
let magicNum = parseInt("42 is the answer"); // 42
let mystery = parseFloat("Am I a number?");  // NaN          </code></pre>
          <p class="code-caption">JS</p>
          <p>To access characters of a String <code>s</code>, use <code>s[index]</code> or
          <code>s.charAt(index)</code>:</p>
          <pre><code class="hijs" data-trim style="font-size: 14pt;">let firstLetter  = puppyCount[0];                            // "1"
let fourthLetter = puppyCount.charAt(3);                     // "p"
let lastLetter   = puppyCount.charAt(puppyCount.length - 1); // "!"
</code></pre>
          <p class="code-caption">JS</p>
        </section>

        <section>
          <h2>Common Bugs when Using Strings</h2>
          <p>While Strings in JS are fairly similar to those you'd use in Java, there are a few special
          cases that you should be aware of.</p>
          <ul>
          <li>Remember that <code>length</code> is a property (not a method, as it is in Java)</li>
          <li>
            Concatenation with <code>+</code>: <code>1 + 1</code> is <code>2</code>, but <code>"1" +
              1</code> and <code>1 + "1"</code> are both <code>"11"</code>!
          </li>
          </ul>
          <p>Practice: <code><a href="https://www.codestepbystep.com/problem/view/javascript/strings/repeat">repeat</a></code></p>
        </section>

        <section>
          <h2>Special Values: <code>null</code> and <code>undefined</code></h2>
          <pre>
            <code class="hijs" data-trim>let foo = null;
let bar = 9;
let baz;

/* At this point in the code,
 * foo is null
 * bar is 9
 * baz is undefined
 */</code></pre>
          <p class="code-caption">JS</p>
          <p><code>undefined</code>: declared but has not yet been assigned a value</p>
          <p>
            <code>null</code>: exists, but was specifically assigned an empty value or
            <code>null</code>. Expresses intentional a lack of identification.
          </p>
          <p>
            A good motivating overview of
            <a target="_blank" href="https://codeburst.io/javascript-null-vs-undefined-20f955215a2"><code>null</code> vs.
             <code>undefined</code></a></p>
          <p>Note: This takes some time to get used to, and remember this slide if you get
          confused later.</p>
        </section>

        <section>
          <h2><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Indexed_collections#Array_object" target="_blank">Arrays</a></h2>
          <pre><code class="hijs" data-trim>let name = [];                          // empty array
let names = [value, value, ..., value]; // pre-filled
names[index] = value;                   // store element
</code></pre>
          <p class="code-caption">JS (template)</p>
          <pre>
            <code class="hijs" data-trim>let types = ["Electric", "Water", "Fire"];
let pokemon = [];        // []
pokemon[0] = "Pikachu";  // ["Pikachu"]
pokemon[1] = "Squirtle"; // ["Pikachu", "Sqiurtle"]
pokemon[3] = "Magikarp"; // ["Pikachu", "Sqiurtle", undefined, "Magikarp"]
pokemon[3] = "Gyarados"; // ["Pikachu", "Sqiurtle", undefined, "Gyarados"]
</code></pre>
          <p class="code-caption">JS (example)</p>
          <p>Two ways to initialize an array</p>
          <p><code>length</code> property (grows as needed when elements are added)</p>
        </section>

        <section>
          <h2>Some Notes on Typing</h2>
          <p>
            As you write JS programs, you <del>may</del> <ins>will</ins> run into some silent
            bugs resulting from odd typing behavior in JS. Automatic type conversion, or coercion,
            is a common, often perplexing, source of JS bugs (even for experienced JS programmers).
          </p>
          <p>
          <strong>Why is this important to be aware of?</strong> You'll be writing
            programs which use variables and conditional logic. Knowing
            what is considered truthy/false and how types are evaluated (at a
            high level) can make you a much happier JS developer
            (<a
              href="https://www.codestepbystep.com/problem/view/javascript/expressions/expressions3">some
              practice</a>)
          </p>
          <p>Examples of some "not-so-obvious" evaluations:</p>
          <div class="side-by-side space-between">
            <div>
              <p><code>2 &lt; 1 &lt; 2;</code><code class="fragment green">// true</code></p>
              <p><code>0 + "1" + 2;</code><code class="fragment green">// "012"</code></p>
            </div>
            <div>
              <p><code>[] + [];</code><code class="fragment green">// ""</code></p>
              <p><code>"1" / null;</code><code class="fragment green">// Infinity</code></p>
            </div>
          </div>
          <p class"fragment">
            <a href="https://www.destroyallsoftware.com/talks/wat" target="_blan target="_blank"k">
              This is worth 3 minutes of your viewing pleasure.
            </a> (starting at 1:20)
          </p>
        </section>

        <section>
          <h2>Defining Functions</h2>
          <pre><code class="hijs" data-trim>function name(params) {
  statement;
  statement;
  ...
  statement;
}</code></pre>
          <p class="code-caption">JS (template)</p>
          <pre>
            <code class="hijs" data-trim>function myFunction() {
  console.log("Hello!");
  alert("Your browser says hi!");
}
</code></pre>
          <p class="code-caption">JS (example)</p>
          <p>The above could be the contents of <code>basics.js</code> linked to our
          <code>HTML</code> page</p>
          <p>Statements placed into functions can be evaluated in response to user events</p>
          <p>Practice:
            <a target="_blank"
              href="https://codestepbystep.com/problem/view/javascript/basics/fixErrors2">
              <code>fixErrors2</code>
            </a>,
            <a target="_blank" href="https://codestepbystep.com/problem/view/javascript/strings/containsTwice">
              <code>containsTwice</code>
            </a>,
            <a target="_blank" href="https://codestepbystep.com/problem/view/javascript/basics/functionMystery1">
              <code>functionMystery1</code>
            </a>,
            <a target="_blank" href="https://codestepbystep.com/problem/view/javascript/parameters/sumUpTo">
              <code>sumUpTo</code>
            </a>,
            <a target="_blank" href="https://codestepbystep.com/problem/view/javascript/basics/veryBestSong">
              <code>veryBestSong</code>
            </a>
          </p>
        </section>
        <section>
          <h2>JS Function vs. Java Method</h2>
          <pre><code class="hijs font-14pt" data-trim>function repeat(str, n) {
  let result = str;
  for (let i = 1; i &lt; n; i++) {
    result += str;
  }
  return result;
}
let repeatedStr = repeat("echo...", 3); // "echo...echo...echo..."
</code></pre>
          <p class="code-caption">JS (example)</p>
          <pre><code class="hljs font-14pt" data-trim>public static String repeat(String str, int n) {
  String result = str;
  for (int i = 1; i &lt; n; i++) {
    result += str;
  }
  return result;
}
String repeatedStr = repeat("echo...", 3); // "echo...echo...echo..."
</code></pre>
          <p class="code-caption">Java (example)</p>
        </section>
        <section>
          <h2>JS Function vs. Python Function</h2>
          <pre><code class="hijs font-14pt" data-trim>function repeat(str, n) {
  let result = str;
  for (let i = 1; i &lt; n; i++) {
    result += str;
  }
  return result;
}
let repeatedStr = repeat("echo...", 3); // "echo...echo...echo..."
</code></pre>
          <p class="code-caption">JS (example)</p>
          <pre><code class="hijs font-14pt" data-trim>def repeat(str, n):
  result = str;
  for i in range(1, n):
    result = result + str;
  return result;

repeatedStr = repeat("echo...", 3) // "echo...echo...echo..."
</code></pre>
          <p class="code-caption">Python (example)</p>
        </section>
      </section>

        <section>
          <h2>From the Console to a .js File</h2>
          <p>Now, we'll use these building blocks of a new programming language to <em>control</em>
          the behavior of our pages (which we don't get with HTML/CSS!).</p>
        </section>

        <section>
          <h2>Lecture Activity</h2>
          <img src="../img/mystery-box-dom.jpg" class="centered-figure" alt="Mystery Box DOM UI breakdown" />
        </section>

        <section>
          <h2>JS/HTML Connection</h2>
          <p>In general, to add interactivity to our HTML/CSS websites we need to:</p>
          <ol>
            <li>Link a JS program to our HTML (in the <code>&lt;head&gt;</code>)</li>
            <li>Identify the elements we want to "listen" to user/page events</li>
            <li>Identify the <em>events</em> we want to respond to</li>
            <li>Identify what <em>each response function is</em></li>
            <li>Assign the listener elements the functions when the event(s) occurs!
              own event(s) to listen to
            </li>
          </ol>
        </section>

        <section>
          <h2>Our Toolbox So Far: HTML/CSS + JS</h2>

          <p class="small-font centered-figure" style="width: 60%;">
            <img src="../img/execution.png" alt="HTML, CSS, and JS on the browser" />
            <a href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/First_steps/What_is_JavaScript#What_is_JavaScript_doing_on_your_page">Image source (MDN)</a> and recommended reading
          </p>
          <p>
            So far, we have used Atom (or a similar editor) to write HTML/CSS for the
            structure/styles for our page. We will continue to use Atom to write JavaScript and add
            behavior.
          </p>
          <p>
            As always, the webpage is rendered by the browser. We will add a link to our JS from HTML
            (similar to the idea of linking a CSS file) and the browser will execute the JS after
            the HTML/CSS has been loaded.
          </p>
        </section>

        <section>
          <h2>Linking to a JavaScript file: <code>&lt;script&gt;</code></h2>
          <pre><code class="hijs" data-trim>&lt;script src="filename"&gt;&lt;/script&gt;
</code></pre>
          <p class="code-caption">HTML (template)</p>
          <pre><code class="hijs" data-trim>&lt;script src="example.js"&gt;&lt;/script&gt;
</code></pre>
          <p class="code-caption">HTML (example)</p>
          <div class="font-18pt">
          <p>
            The <code>script</code> tag should be placed in the <code>HTML</code> page's
            <code>head</code>.
          </p>


          <p>All JavaScript code used in the page should be stored in a separate <code>.js</code> file</p>
          <p>
            JS code <em>can</em> be placed directly in the <code>HTML</code> file's <code>body</code> or
            <code>head</code> (like <code>CSS</code>), <strong>but this is poor code quality. You should always separate content,
              presentation, and behavior</strong>
          </p>
          <p>Here's a
          <a href="code/basics.html">basics.html</a> linked to this <a
             href="code/basics.js">basics.js</a> - feel free to use these to practice with!
          </p>
          </div>
        </section>
        </section>
        <section>
          <h2>JavaScript "strict" mode</h2>

          <pre><code class="hljs" data-trim>"use strict";

...your code...
</code></pre>
          <p class="code-caption">JS</p>

          <p>
            Writing <code>"use strict";</code> at the very top of your JS file turns
            on strict syntax checking:
          </p>
          <ul>
            <li>Shows an error if you try to assign to an undeclared variable</li>
            <li>Stops you from overwriting key JS system libraries</li>
            <li>Forbids some unsafe or error-prone language features</li>
          </ul>
          <p>You should <em>always</em> turn on strict mode for your code in this class!</p>
        </section>

        <!--
      <section>
          <h2>So, when does my code run?</h2>

          <div class="example">
            <pre><code class="hljs" data-trim>&lt;html&gt;
  &lt;head&gt;
    &lt;script src="myfile.js"&gt;&lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt; ... &lt;/body&gt;
&lt;/html&gt;</code></pre>
            <p class="code-caption">HTML</p>

                <pre><code class="hljs" data-trim data-escape>let x = 3;
function f(n) { return n + 1; }
x = f(x);
console.log(x);</code></pre>
            <p class="code-caption"><code>myfile.js</code> -- JavaScript</p>
            </div>

            <div class="font-18pt">
            <p>
              Your file's JS code runs the moment the browser loads the <code>script</code>
              tag
            </p>
            <ul>
              <li>Any variables are declared immediately</li>
              <li>
                Any functions are declared but not called, unless your global code explicitly calls them
              </li>
            </ul>
            <p>Important! At this point in time, the browser has not yet loaded the DOM (<code>body</code>)</p>
            <ul>
              <li>None of the DOM objects for tags on the page have been created yet</li>
            </ul>
            </div>
        </section>
        <section>
          <h2>A failed attempt at being unobtrusive</h2>
          <div class="example">
            <pre><code class="hljs" data-trim>&lt;html&gt;
  &lt;head&gt;
    &lt;script src="myfile.js" type="text/javascript"&gt;&lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div&gt;&lt;button <em>id="ok"</em>&gt;OK&lt;/button&gt;&lt;/div&gt;
    (... more html ...)
            </code></pre>
            <p class="code-caption">HTML</p>

            <pre><code class="hljs" data-trim>let btn = document.getElementById("ok");
btn.onclick = okayClick;  // this is bad: btn is null at this point
            </code></pre>
            <p class="code-caption"><code>myfile.js</code> -- JavaScript</p>
          </div>

          <p>Problem: global JS code runs the moment the script is loaded</p>
          <p>
              Script in <code>head</code> is processed before page's <code>body</code> has
              loaded
          </p>
          <p>No elements are available yet or can be accessed yet via the DOM</p>
          <p>This problem is solved by attaching a function to the global window load
          event, which fires once everything in the page has been loaded.
          </p>
        </section>
      <section>
        <h2>Events</h2>
        <p>What are some events you can think of on web pages? What kind of elements do you think theye would be common with?</p>
      </section>

        <section>
          <h2>Common Types of JavaScript Events</h2>
          <table class="code-table">
            <tr>
              <th>Name</th>
              <th>Description</th>
            </tr>
            <tr>
              <td><a href="">click</a></td>
              <td>A pointing device button (e.g. mouse) has been pressed and released on
                an element</td>
            </tr>
            <tr>
              <td><a href="">dblclick</a></td>
              <td>A pointing device button is clicked twice on an element</td>
            </tr>
            <tr>
              <td><a href="">keydown</a></td>
              <td>Any key is pressed down</td>
            </tr>
            <tr>
              <td><a href="">keyup</a></td>
              <td>Any key is released</td>
            </tr>
            <tr>
              <td><a href="">mouseenter</a></td>
              <td>A pointing device is moved onto an element that has the attached</td>
            </tr>
            <tr>
              <td><a href="">mouseover</a></td>
              <td>A pointing device is moved onto the element that has the listener attached
              to itself or one of its children</td>
            </tr>
            <tr>
              <td><a href="">mousemove</a></td>
              <td>A pointing device is moved over an element</td>
            </tr>
            <tr>
              <td><a href="">mousedown</a></td>
              <td>A pointing device button is pressed on an element</td>
            </tr>
            <tr>
              <td><a href="">mouseup</a></td>
              <td>A pointing device button is released over an element</td>
            </tr>
          </table>
          <p>We'll cover more later (you can find a full list <a
            href="https://developer.mozilla.org/en-US/docs/Web/Events" target="_blank">here</a>),
          but today we'll demo <code>click</code>!</p>
        </section>


      -->
        <section>
          <h1>Back to HTML (Briefly!) </h1>
        </section>

        <section>
            <h2>Recall: The DOM</h2>
            <p>
              A tree-shaped structure built out of all of the HTML elements in a
              page, accessible via JavaScript
            </p>
            <img class="two-thirds-width centered-figure" src="../img/mystery-box-dom-page.png" alt="Mystery Box DOM tree and rendered page" />
        </section>

        <section>
          <h3>
              More about the Document Object Model
              (<a href="http://www.w3.org/TR/2004/PR-DOM-Level-3-Core-20040205/introduction.html">DOM</a>)
          </h3>

          <p class="description">
              A set of JavaScript objects that represent each element on the page
          </p>

          <p>Each tag in a page corresponds to a JavaScript DOM object with <strong>properties</strong> (e.g. <code>src</code>, <code>classList</code>) and <strong>functions</strong> (e.g. <code>addEventListener</code>)</p>
          <p>Each element has properties and functions that JavaScript can use to examine elements' state</p>
        </section>
        <section>
          <h2>The DOM and JavaScript</h2>
          <p>JavaScript is a language that lets us interact with a webpage document</p>
          <p class="bolded">We can use JS to...</p>
          <p>Access and modify properties of elements...</p>
          <ul>
            <li><code>boxImg.src = "star.png"</code></li>
          </ul>
          <p>Add/remove/toggle classes...</p>
          <ul>
            <li><code>boxImg.classList.add("bordered")</code></li>
            <li><code>someInput.classList.toggle("highlighted")</code></li>
          </ul>
          <p>Add/remove an "event listener"...</p>
          <ul>
            <li><code>boxBtn.addEventListener("click", openBox);</code></li>
          </ul>
          <p>We'll learn about each of these in the next few lectures!</p>
        </section>

        <section>
          <h2>The Six Global DOM Objects</h2>
          <p>Every JavaScript program can refer to the following global objects:</p>
          <table>
            <tr>
              <th>method</th>
              <th>description</th>
            </tr>
            <tr>
              <td>document</td>
              <td>current HTML page and its content</td>
            </tr>
            <tr>
              <td>history</td>
              <td>list of pages the user has visited</td>
            </tr>
            <tr>
              <td>location</td>
              <td>URL of the current HTML page</td>
            </tr>
            <tr>
              <td>navigator</td>
              <td>info about the web browser you are using</td>
            </tr>
            <tr>
              <td>screen</td>
              <td>info about the screen area occupied by the browser</td>
            </tr>
            <tr>
              <td>window</td>
              <td>the browser window</td>
            </tr>
          </table>
          <p>Try typing each object in your console followed by "." - your browser will
          try to autocomplete, and you can see what kind of information each global object
          has! What kind of information do you get when typing
          <code>window.clientInformation</code>?</p>
          <p>Usually, you'll just want to use <code>document</code> (to access elements) and <code>window</code> (to know when the page is loaded) in your JS programs</p>
        </section>

        <section>
          <h2>Accessing Elements from the <code>document</code> object in JavaScript</h2>
        </section>

        <section>
          <h2>Accessing an Element by ID</h2>
          <pre><code class="hijs" data-trim>let name = document.getElementById("id");
</code></pre>
          <p class="code-caption">JS</p>
          <ul>
            <li>
              <code>document.getElementById</code> returns the DOM object for an element with a given
              <code>id</code> (note that you omit the <code>#</code> when giving an id)
            </li>
            <li id="example-id">We'll learn about other ways to get DOM elements (e.g. <code>document.querySelector</code> to get elements by class name) Monday!</li>
          </ul>
        </section>

        <section>
          <h2>What's inside a DOM object?</h2>
          <p>For starters, the HTML attributes. This HTML:</p>
          <div class="code-example">
            <pre><code class="hljs" data-trim>&lt;img src="images/puppy.png" alt="A fantastic puppy photo"/&gt;</code></pre>
            <p class="code-caption">HTML</p>
          </div>

          <p>
            Has a DOM object (let's call it <code>puppyImg</code>) with these two properties:
          </p>
          <ul>
            <li><code>puppyImg.<em>src</em></code> -- set by the browser to <code>images/puppy.png</code></li>
            <li><code>puppyImg.<em>alt</em></code> -- set by the browser to <code>"A fantastic puppy photo"</code></li>
          </ul>
        </section>


        <section>
          <h2>Listening to Events with JS/HTML</h2>
          <p>There are a ton of HTML tags that are used to build UI (user interfaces).</p>
          <pre><code>Enter Text: &lt;input type="text" id="input-text" /> &lt;Go!&gt;</code></pre>
          <p class="code-caption">HTML</p>
          <div class="output">
            Enter Text: <input type="text" id="input-text" /> <button id="go-btn">Go!</button>
          </div>
          <p class="code-caption">output</p>
          <p>We'll start with the humble button today, but we'll learn a few more like input boxes and dropdowns next week.</p>
        </section>

        <section>
          <h2>The <code>&lt;button&gt;</code></a></h2>
          <pre><code class="hijs" data-trim>&lt;button id="my-btn"&gt;Click me!&lt;/button&gt;
</code></pre>
          <p class="code-caption">HTML</p>
          <div class="output">
            <button style="font-size: 18pt; margin-left: 5px;" onclick="alert('Whooaaaaaaaa...');">Click me!</button>
            <p class="output-caption">output</p>
          </div>
          <p>Text inside of the <code>button</code> tag renders as the button text</p>
          <p>To make a responsive button (or other UI controls):</p>
          <ol>
            <li>Choose the control (e.g., button) and event (e.g., mouse click) of interest</li>
            <li>Write a JavaScript function to run when the event occurs</li>
            <li>Attach the function to the event on the control</li>
          </ol>
        </section>

        <section>
          <h2>So how did that happen?</h2>
        </section>

        <section>
          <h2><a target="_blank" href="https://en.wikipedia.org/wiki/Event-driven_programming">Event-Driven Programming</a></h2>
          <p>
            <img src="../img/event-driven-programming.png" alt="event-driven programming" />
          </p>
          <p>Unlike Java programs, JS programs have no <code>main</code>; they respond to user actions
          called <strong>events</strong></p>
          <p><strong>Event-Driven Programming</strong>: writing programs driven by <a href="https://codestepbystep.com/problem/view/javascript/events/events">user events</a></p>
        </section>


        <section>
          <h3>Listening and Responding to Events with <a
              href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events#addEventListener()_and_removeEventListener()"
              target="_blank"><code>addEventListener</code></a></h3>
          <pre><code class="hijs font-14pt" data-trim>function handleFunction() {
  // event handler code
}
// attaching a named function
element.addEventListener("click", handleFunction);
</code></pre>
            <p class="code-caption">JS (onclick template)</p>

          <ul>
            <li>JavaScript functions can be set as <strong>event handlers</strong> (also known as "callbacks")</li>
            <li>When you interact with the element and trigger the event, the callback function will execute</li>
          </ul>
        </section>

        <section>
          <h3>Using a <code>click</code> Event Handler to Open the Mystery Box</h3>
          <pre><code class="hijs" data-trim>&lt;img id="mystery-box" src="question-block.png" alt="A Mystery Box" /&gt;
&lt;button id="box-btn"&gt;Click me!&lt;/button&gt;
</code></pre>
          <p class="code-caption">HTML</p>
          <pre><code class="hijs font-14pt" data-trim>let boxBtn = document.getElementById("box-btn");
boxBtn.addEventListener("click", openBox);

function openBox() {
  let box = document.getElementById("mystery-box"); // 1. Get the box image
  box.src = "star.png"; // 2. Change the box image's src attribute!
}</code></pre>
          <p class="code-caption">JS</p>
          <script>
            function openBox() {
              let box = document.getElementById("mystery-box");
              box.src = "code/mystery-box/star.png";
            }
          </script>
          <div class="output">
            <img id="mystery-box" style="height: 160px; margin-bottom: -10px;" src="code/mystery-box/question-block.png" alt="a mystery box" />
            <button style="font-size: 18pt; margin-left: 15px; margin-bottom: -25px;" onclick="openBox();">Click me!</button>
            <p class="output-caption">output</p>
          </div>
        </section>
        <section id="mystery-box-solution">
          <h2>Putting it All Together</h2>
          <div class="font-16pt">
          <p>
            As we'll learn more about on Monday, we need to wrap any JS code that interacts with the document
            inside the <em>window's</em> <code>load</code> event handler. <code>load</code> is the event listened to
            on the window to indicate when the page "is loaded".
          </p>
          <p>When the page is loaded, everything in the
          attached function (in our example, we call this <code>init</code> for "page initialization"),
          is executed, including setting up the button's <code>click</code> event listener.
          </p>
          </div>
          <pre class="font-12pt"><code class="hljs font-12pt" data-trim>// listener attached before page is loaded
window.addEventListener("load", init);

function init() {
  // this code is ran after page is loaded!
  let boxBtn = document.getElementById("box-btn");
  boxBtn.addEventListener("click", openBox);
}

function openBox() {
  let box = document.getElementById("mystery-box");
  box.src = "star.png";
  box.alt = "A star!";
}</code></pre>
           <p class="code-caption"><a href="code/mystery-box/mystery-box.js" target="_blank">mystery-box.js</a> (commented example)</p>
           <p class="font-16pt">You can see the HTML output <a href="code/mystery-box/mystery-box.html">here</a> (same from today's Lecture Pre-Check). On Monday, we'll add one more important component to our JS files: the
            module pattern.
          </p>
        </section>

      <!-- end of slides (last section tag) -->
      </div>
    </div>
  <script src="../../site/reveal/lib/js/head.min.js"></script>
  <script src="../../site/reveal/js/reveal.js"></script>

  <script>
    Reveal.initialize({
      controls: true,
      progress: true,
      history: true,
      center: true,

      transition: 'slide', // none/fade/slide/convex/concave/zoom

      // More info https://github.com/hakimel/reveal.js#dependencies
      dependencies: [{
          src: '../../site/reveal/lib/js/classList.js',
          condition: function() {
            return !document.body.classList;
          }
        },
        {
          src: '../../site/reveal/plugin/markdown/marked.js',
          condition: function() {
            return !!document.querySelector('[data-markdown]');
          }
        },
        {
          src: '../../site/reveal/plugin/markdown/markdown.js',
          condition: function() {
            return !!document.querySelector('[data-markdown]');
          }
        },
        {
          src: '../../site/reveal/plugin/highlight/highlight.pack.js',
          async: true,
          callback: function() {
            hljs.initHighlightingOnLoad();
          }
        },
        { src: '../../site/reveal/plugin/zoom-js/zoom.js', async: true },
        { src: '../../site/reveal/plugin/notes/notes.js', async: true },
        { src: '../../site/reveal/plugin/search/search.js', async: true },
        { src: '../../site/reveal/plugin/print-pdf/printpdfbtn.js', async: true }
      ]
    });
  </script>
</body>
</html>
